# OCLog-v1.x

<p align="center">
Легкий и очень минималистичный кросс-платформенный логгер для ESDR3 (трансиверов компании Expert Electronics моделей SS2/SS2Pro/DX)<br>
<br>
<img src="https://github.com/VK6NX/OCLog-v1.x/blob/main/images/mainview.png">
</p>

## Меню
- [Требования](#prerequisites)
- [Установка](#install)
- [Конфигурация](#config)
- [Использование](#ops)
- [Release Notes](#rl1_3)
- [Что дальше](#roadmap)

---
## Требования<a name = "prerequisites"></a>
- TCI версии 1.9 (и выше) (является частью ESDR3, версия TCI зависит от версии ESDR3)
- ESDR3
- EE трансивер модели: SunSDR2 / SunSDR2 Pro / SunSDR2 DX. (не тестировалось с MB1 и QRP).
- OS: macOS 11.x/12.x/13x x64 (Intel или Silicon) | Win 10/11 x64 Intel | Linux Ubuntu 22.04 | Mint 21.1

<ins>Поддержка сторонних программ:</ins>
Текущий релиз поддерживает SDC версий 15.24 (и более ранних) через интеграцию Telnet (функция 'Click on Call', для передачи детектированного позывного из SDC в логгер). В будущих версиях (выпущенных до конца 2022 года) поддержка SDC будет убрана и заменена на полноценную работу со скиммером производства EE.

<ins>Поддержка Linux, Android и IOS:</ins>
Из Linux в настоящий момент поддерживается Ubuntu 22.04 и Mint 21.1.

Поскольку программа пишется в Qt, соответственно она может быть собрана под Андроид и Эппл. Поскольку наша команда не является официальными разработчиками под "крышей" Гугла и Эппла, то мы не держим данный логгер в их "магазинах". Желающим поставить логгер на свои мобильные смартфоны придется собрать его из исходного кода под нужную платформу. 

За доступом к исходному коду обращайтесь к VK6NX через форум EE или соответствующие Telegram каналы.
<br>
<br>

<b><i><ins>Кому пригодится этот логгер</ins></i></b>
1. Тем, кто работает на ноутбуках (в DXпедициях, в поле, и т.д.), когда рабочее пространство ограничено одним монитором ноутбука, и все программы - ESDR3, логгер, скиммер - должны умещаться на один 16-дюймовый экран.
2. Тем, кто озабочен энергоэффективностью программ (и хочет продлить время работы ноутбука от одной зарядки батарей - опять же в DXпедициях, в поле, и т.д.). 
4. Когда нужно минимальное потребление CPU/GPU (связано как с предыдущим пунктом, так и с вопросом общей загрузки процессора всеми запущенными программами).
5. Тем кто работает в нескольких операционных системах (Win, Mac, Linux, Android, iOS) на разных платформах (intel, arm) и хочет использовать одинаковый интерфейс программы в каждой ОС.

<b><i><ins>Кому не пригодится этот логгер</ins></i></b>
1. Тем, кто рассчитывает использовать его как программу для хранения всех своих QSO за последние -дцать лет. Не стоит. Этот логгер делался для эффективной работы в отдельно взятый короткий период (DXпедиции, соревнования) длиной в несколько дней и для общего количества связей в логе меньше 100 тысяч записей (предполагалось, что до этого момента экпедиция будет закончена и QSO выгружены из логгера и загружены на ClubLog).
2. Тем, кому нужны различные дополнительные фичи типа контроля повороток, определения направления и прочие "свистелки", "хотелки" и доступ к онлайн сервисам (включая доставку кофе) в рамках лога. Подобных излишеств в данном логе нет. 
   
---
<br>

## Установка<a name = "install"></a>

<b>Важно</b>: если использовалась программа предыдущей версии, учтите, что последний релиз не совместим (установки и формат лога) с предыдущими. Поэтому выгрузите лог из предыдущей версии в ADIF и запишите свои установки. Такая ситуация по несовместимости будет продолжаться какое-то время, поскольку логгер находится в активном девелопменте и новые функции постоянно добавляются в базу данных (где хранятся все установки). Впрочем ситуацию облегчает то, что конфигурации, которую требуется сделать в логгере - немного.  

### <ins>macOS:</ins>
- скачайте архив с нужной версией под ваш мак: intel или silicon
- разархивируйте и переместите к Applications
- проделайте нужные телодвижения в Security

### <ins>Windows:</ins>
- скачайте Win архив
- разархивируйте и поместите папку с программой в удобное место на вашем компе
- запускайте OC_log.exe

### <ins>Linux:</ins>
Начиная с версии 1.3.1 update 4 стали доступны программы для Ubuntu 22.04 и Mint 21.1
- скачиваем нужный архив
- разархивируйте и поместите папку с программой в удобное место на вашем компе
- запускайте ./AppRun


---
<br>

## Конфигурация<a name = "config"></a>
<p align="center">
<img src="https://github.com/VK6NX/OCLog-v1.x/blob/main/images/skimmer-settings1.png"  width="50%" height="50%">
</p>

<ins>Поддержка ADIF формата:</ins>
Экспорт записей лога производится в формате ADIF v3.1.2 (формат поддерживается сервисом Clublog) в локальную директорию указанную в конфигурации лога<i><b>'Settings-Log Info-Path'</i></b>
<br>
<br>
<ins>Общие нюансы:</ins>
Рекомендуется заполнить поля, отмеченные "рекомендовано" в <i><b>'Settings-Station'</i></b> поскольку данные из них записываются в экспорт ADIF файла.

<ins>IP соединения:</ins>
Если у вас не "дефолтные" установки TCI и Telnet(SDC), то проверьте <i><b>'Settings-Connection'</i></b>

<ins>CW макросы:</ins>
Поддерживаются 4 разных сета по 15 макросов в каждом сете (через TCI), включая поддержку специальных знаков ускорения-замедления (< << <<< > >> >>>).

Специальные последовательности для макросов:<br>
<b>${MYCALL}</b> собственный позывной (берется из поля в установках своей станции<br>
<b>${RCVCALL}</b> позывной корреспондента (берется из поля CALLSIGN)<br>
<b>${SNDRST}</b> отправляемый RST<br>
<b>${STX}</b> отправляемый номер QSO (для контестов)<br>
<b>${STXSTR}</b> отправляемая дополнительная информация (для контестов)<br>

Поля STX и STXSTR активируются при выборе режима Contest в установках. STX генерится автоматичекски, а STXSTR берется из соответствующего поля в установках.

Пример конфигурации макросов:<br>
<p align="center">
<img src="https://github.com/VK6NX/OCLog-v1.x/blob/main/images/cwmacro.png" width="50%" height="50%">
</p>

Пример установок для контеста:
<p align="center">
<img src="https://github.com/VK6NX/OCLog-v1.x/blob/main/images/cwmacro2.png" width="50%" height="50%">
</p>
<br>

## Нюансы повседневной работы<a name = "ops"></a>
- Заполняйте поля, отмеченные "Рекомендуется", если не хотите, чтобы в экспортированном ADIF были сюрпризы..
- Для работы используйте тот вариант - "обычный, экспедиция, контест" - который нужен. Перелючается парой кликов, а времени экономит много..
- Рекомендуется выгружать лог каждый день (конечно, если соревнования или полевой выезд не длится несколько дней - в этом случае выгружайте лог по завершении). Для того, чтобы новый контест начинался с QSO номера 1 - нужно выгрузить и очистить предыдущий лог (то же самое для экспедиции). 
- Если вы работается на разнесенных частотах и хотите, чтобы в записи ADIF были отдельно указаны частота приема и передачи, то сконфигурите поле BAND_RX в установках. В настоящий момент фича работает только для вариантов пар VFO A - VFO B (не работает с RIT-XIT). Если в установках везде выбран одинаковы VFO, в поле BAND_RX в ADIF будет "ноль":
<p align="center">
<img src="https://github.com/VK6NX/OCLog-v1.x/blob/main/images/bandrx.png" width="50%" height="50%">
</p>

### Как найти базу данных в зависимости от ОС:
-- macOS: $HOME/Library/Application Support/[Program Name]/QML/OfflineStorage/Databases/<br>
-- *nix: $HOME/[Username]/.local/share/[Program Name]/QML/OfflineStorage/Databases/<br>
-- Windows: Users\[Username]\AppData\Local\[Program Name]\QML\OfflineStorage\Databases<br>
<br>
(подробности смотрите в https://doc.qt.io/qt-5/qsettings.html#platform-specific-notes)<br>

---
<br>

## Release notes для версии 1.3.1 update 3<a name = "rl1_3"></a>
1. Добавлены данные в DXCC таблицу.
2. Поправлена функция передачи позывного в лог из скиммера

## Release notes для версии 1.3.1 update 2
1. Поправлена DXCC таблица.

## Release notes для версии 1.3.1 update 1
1. Добавлена фича автоматического переключения RS<->RST в зависимости от выбранного mode в ESDR3 (5NN для CW, 59 для всех остальных)

## Release notes для версии 1.3.1
1. Переработан дизайн главного окна программы
2. Переработан просмотр и экспорт лога
3. Добавлено поле BandRX (для режимов SPLIT)
4. Добавлены режимы работы лога: Обычный / Экспедиция / Контест
5. Сделана русская локализация установок (кроме макросов CW)
6. Минимальные багфиксы и улучшения.

 
## Будущие релизы<a name = "roadmap"></a>

Логгер находится в активной разработке (на момент октябрь 2022 и до конца года минимум). Будут добаляться новые фичи, добавляться варианты более гибких конфигураций, разумеется будет проверяться полная совместимость с ESDR3. Предполагается, что финальная версия лога будет выпущена одновременно с релизом ESDR3 v.1.0 (что совсем не исключает дальнейшей разработки и улучшения логгера).

В ближайших планах
- Подключение работы со скиммером EE.
- Разработка макросов SSB (тут прямо зависит от того, когда все необходимые параметры будут внесены в TCI)

